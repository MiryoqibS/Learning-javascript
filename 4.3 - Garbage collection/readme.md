# üì¶ 4.3 ‚Äî Garbage Collection

## ‚úÖ –ß—Ç–æ —è –∏–∑—É—á–∏–ª:

- JavaScript **—É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞–º—è—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**, –∏ –≤ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º **—Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞** (Garbage Collection).
- –û–±—ä–µ–∫—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ –ø–∞–º—è—Ç–∏, **–µ—Å–ª–∏ –Ω–∞ –Ω–∏—Ö –±–æ–ª—å—à–µ –Ω–µ—Ç —Å—Å—ã–ª–æ–∫**.
- –û—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞ ‚Äî **–∞–ª–≥–æ—Ä–∏—Ç–º "mark-and-sweep"** (–æ—Ç–º–µ—Ç—å –∏ —É–¥–∞–ª–∏).
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫: –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤—Å—ë –µ—â—ë ‚Äú–¥–µ—Ä–∂–∏—Ç‚Äù –æ–±—ä–µ–∫—Ç ‚Äî –æ–Ω –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è.
- –ü—Ä–∏–º–µ—Ä ‚Äú—Ü–µ–ø–æ—á–∫–∏ —Å—Å—ã–ª–æ–∫‚Äù –∏ –ø–æ—á–µ–º—É **—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏** –º–æ–≥—É—Ç –±—ã—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–≤–∏–∂–∫–∞—Ö.

---

## üß† –ö–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è:

### üìå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

- –í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –æ–±—ä–µ–∫—Ç–æ–≤.
- –û—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏ ‚Äî **–Ω–µ –≤—Å–µ–≥–¥–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è**, –∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–±–æ—Ä—â–∏–∫–∞ –º—É—Å–æ—Ä–∞.

### üìå –ê–ª–≥–æ—Ä–∏—Ç–º mark-and-sweep

1. –°–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ ‚Äú–∏–¥—ë—Ç‚Äù –æ—Ç –∫–æ—Ä–Ω–µ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (`window`, `global`, –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏).
2. –ü–æ–º–µ—á–∞–µ—Ç –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã, –¥–æ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –¥–æ–±—Ä–∞—Ç—å—Å—è –ø–æ —Å—Å—ã–ª–∫–∞–º.
3. –í—Å—ë, —á—Ç–æ –Ω–µ –æ—Ç–º–µ—á–µ–Ω–æ, —Å—á–∏—Ç–∞–µ—Ç—Å—è ‚Äú–º—É—Å–æ—Ä–æ–º‚Äù –∏ —É–¥–∞–ª—è–µ—Ç—Å—è.

### üìå –°—Å—ã–ª–∫–∏ –≤–∞–∂–Ω—ã

```javascript
let user = { name: "John" }; // –æ–±—ä–µ–∫—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
user = null; // —Ç–µ–ø–µ—Ä—å –Ω–µ—Ç —Å—Å—ã–ª–æ–∫, –æ–±—ä–µ–∫—Ç —É–¥–∞–ª—è–µ—Ç—Å—è
```

---

## üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º "Mark and Sweep" (–û—Ç–º–µ—Ç–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å)

-–°–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –≤—Å–µ–º –∫–æ—Ä–Ω–µ–≤—ã–º –æ–±—ä–µ–∫—Ç–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏).
-–û—Ç–º–µ—á–∞–µ—Ç –≤—Å—ë, —á—Ç–æ –¥–æ—Å—Ç–∏–∂–∏–º–æ –∏–∑ —ç—Ç–∏—Ö –∫–æ—Ä–Ω–µ–π –ø–æ —Å—Å—ã–ª–∫–∞–º.
-–í—Å—ë, —á—Ç–æ –Ω–µ –æ—Ç–º–µ—á–µ–Ω–æ ‚Äî —Å—á–∏—Ç–∞–µ—Ç—Å—è –º—É—Å–æ—Ä–æ–º –∏ —É–¥–∞–ª—è–µ—Ç—Å—è.

---

## üß™ –ü—Ä–∏–º–µ—Ä—ã

### üß∑ –°—Å—ã–ª–∫–∏ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏

```javascript
function createCycle() {
  let a = {};
  let b = {};

  a.b = b;
  b.a = a;
}

createCycle(); // –æ–±—ä–µ–∫—Ç—ã a –∏ b —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞, –Ω–æ –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ –æ–Ω–∏ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã
```

**‚úÖ –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ —á—Ç–æ a –∏ b —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞, –æ–Ω–∏ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã –∏–∑–≤–Ω–µ, –∑–Ω–∞—á–∏—Ç ‚Äî –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.**

## üß† –ß—Ç–æ –≤–∞–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å

-–°–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è, –Ω–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –≤–∞–∂–Ω–æ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏.
-–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏ ‚Äî –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã –∏–∑ –∫–æ—Ä–Ω–µ–π.
-–õ—É—á—à–∏–π —Å–ø–æ—Å–æ–± –ø–∏—Å–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥ ‚Äî –Ω–µ –¥–µ—Ä–∂–∞—Ç—å –ª–∏—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏.

> ‚ùó –≠—Ç–∞ —Ç–µ–º–∞ ‚Äî —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –ø–æ–∫–∞ –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã.
