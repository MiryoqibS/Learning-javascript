# üì¶ –¢–µ–º–∞ 9.5 - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã?

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ `Array`, `Error`, `Map`, `Set`, `Promise` –∏ —Ç.–¥., –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å–∞–º–∏–º JavaScript.

> üìå –û–Ω–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–µ –∫–ª–∞—Å—Å—ã, –∏ –∏—Ö –º–æ–∂–Ω–æ **—Ä–∞—Å—à–∏—Ä—è—Ç—å —á–µ—Ä–µ–∑ `class MyClass extends SomeNativeClass`**.

---

## üîπ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤

- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç **–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**, –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –∫–ª–∞—Å—Å—ã.
- –í–Ω—É—Ç—Ä–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–ª–æ—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `[[ArrayLength]]`).
- –≠—Ç–∏ —Å–ª–æ—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –∫–ª–∞—Å—Å–æ–º ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–∞ —Ä–∞–±–æ—Ç–∞—é—Ç **—Ç–æ–ª—å–∫–æ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å `[[ArrayLength]]`**.

> üìå –ü–æ—ç—Ç–æ–º—É **–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ** –∫—Ä–∏—Ç–∏—á–Ω–æ ‚Äî —Ç–æ–ª—å–∫–æ `class MyArray extends Array {}` —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç—ã, –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å `Array`.

---

## üîπ –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è Array

```javascript
class PowerArray extends Array {
  isEmpty() {
    return this.length === 0;
  }
}

const arr = new PowerArray(1, 2, 3);
console.log(arr.isEmpty()); // false

const empty = new PowerArray();
console.log(empty.isEmpty()); // true
```

> üìå PowerArray –Ω–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç Array, –∑–Ω–∞—á–∏—Ç –º–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–∞ (map, filter, –∏ —Ç.–¥.) –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–æ–∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã PowerArray!

---

## üîπ –ü–æ–≤–µ–¥–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –∫–∞–∫ map –∏ filter

```javascript
let filtered = arr.filter((x) => x > 1);
console.log(filtered instanceof PowerArray); // true
```

> üìå –ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Ç–∏–ø –ø–æ—Ç–æ–º–∫–∞! –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞ Symbol.species.

---

## üîπ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ Symbol.species

```javascript
class PowerArray extends Array {
  static get [Symbol.species]() {
    return Array; // ‚Üê —Ç–µ–ø–µ—Ä—å –º–µ—Ç–æ–¥—ã –≤–µ—Ä–Ω—É—Ç –æ–±—ã—á–Ω—ã–π Array
  }
}

let arr = new PowerArray(1, 2, 3);
let filtered = arr.filter((x) => x > 1);

console.log(filtered instanceof PowerArray); // false
console.log(filtered instanceof Array); // true
```

> üìå Symbol.species –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–µ—Ç–æ–¥–∞–º–∏ —Ç–∏–ø–∞ map, filter, slice –∏ —Ç.–¥.

---

## ‚ö†Ô∏è –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π super(...) –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ, –µ—Å–ª–∏ —Ä–∞—Å—à–∏—Ä—è–µ—à—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å.

- –¢–æ–ª—å–∫–æ –Ω–∞—Å—Ç–æ—è—â–µ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Å–æ–∑–¥–∞—ë—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –Ω—É–∂–Ω–æ–≥–æ —Ç–∏–ø–∞.

- Symbol.species –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–∫–ª—é—á–∏—Ç—å/–∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–ª–∞—Å—Å–∞.

> ‚ùó –≠—Ç–∞ —Ç–µ–º–∞ ‚Äî —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –ø–æ–∫–∞ –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã.
