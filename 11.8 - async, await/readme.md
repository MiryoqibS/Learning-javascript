# üì¶ –¢–µ–º–∞ 11.8 - async / await

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ async / await

async / await ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–º–∏—Å–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ —Ç–∞–∫, –∫–∞–∫ –±—É–¥—Ç–æ –æ–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π.

> üìå async/await –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –ø–æ–Ω—è—Ç–Ω–µ–µ –∏ –ø—Ä–æ—â–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö .then().

---

## üîπ –ö–ª—é—á–µ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

- async –ø–µ—Ä–µ–¥ —Ñ—É–Ω–∫—Ü–∏–µ–π –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –µ—ë –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å Promise

- await –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ async-—Ñ—É–Ω–∫—Ü–∏–∏

- await –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–æ–∫–∞ –ø—Ä–æ–º–∏—Å –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è

---

## üîπ –ü—Ä–∏–º–µ—Ä: –ø—Ä–æ—Å—Ç–æ–π await

```javascript
async function f() {
  const result = await new Promise((resolve) => {
    setTimeout(() => resolve("–ì–æ—Ç–æ–≤–æ!"), 1000);
  });

  console.log(result); // –ì–æ—Ç–æ–≤–æ!
}

f();
```

> üìå –í–Ω—É—Ç—Ä–∏ async-—Ñ—É–Ω–∫—Ü–∏–∏ –º—ã –º–æ–∂–µ–º "–∂–¥–∞—Ç—å" —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–º–∏—Å–∞ –ø—Ä—è–º–æ —á–µ—Ä–µ–∑ await.

---

## üîπ –û—à–∏–±–∫–∏ –∏ try...catch

```javascript
async function f() {
  try {
    let response = await fetch("https://no-such-url.com");
    let data = await response.json();
  } catch (err) {
    console.log("–û—à–∏–±–∫–∞:", err.message);
  }
}

f();
```

> üìå –û—à–∏–±–∫–∏ –≤–Ω—É—Ç—Ä–∏ await –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –æ–±—ã—á–Ω—ã–π try...catch, –∫–∞–∫ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ.

---

## üîπ async –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise

```javascript
async function f() {
  return 42;
}

f().then(result => console.log(result)); // 42
```

> üìå –î–∞–∂–µ –µ—Å–ª–∏ —Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—à—å –æ–±—ã—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî –æ–Ω–æ –±—É–¥–µ—Ç –æ–±—ë—Ä–Ω—É—Ç–æ –≤ Promise.

---

## üîπ –í—ã–∑–æ–≤ async –∏–∑ –æ–±—ã—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
```javascript
async function getValue() {
  return "–ó–Ω–∞—á–µ–Ω–∏–µ";
}

function run() {
  getValue().then(res => console.log(res));
}

run(); // –ó–Ω–∞—á–µ–Ω–∏–µ
```

> üìå –í –æ–±—ã—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ç—ã –Ω–µ –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å await, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—à—å .then().

---

## üîπ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π await

```javascript
async function process() {
  let user = await fetch("/user.json");
  let data = await user.json();

  let githubUser = await fetch(`https://api.github.com/users/${data.name}`);
  let githubData = await githubUser.json();

  console.log(githubData.name);
}
```

> üìå –í—Å–µ await –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Promise.all –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞.

---

## ‚ö†Ô∏è –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

- üî∏ –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å await –≤–Ω–µ async-—Ñ—É–Ω–∫—Ü–∏–∏

- üî∏ await –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞

- üî∏ async –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise, –¥–∞–∂–µ –µ—Å–ª–∏ –≤–µ—Ä–Ω—É–ª–∏ –æ–±—ã—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

- üî∏ –í—Å–µ –æ—à–∏–±–∫–∏ –≤–Ω—É—Ç—Ä–∏ await –Ω—É–∂–Ω–æ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ try...catch –∏–ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ .catch()
