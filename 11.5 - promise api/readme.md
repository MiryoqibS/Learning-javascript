# üì¶ –¢–µ–º–∞ 11.5 - Promise API

---

## üîπ Promise.all

### üîπ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:

–ñ–¥—ë—Ç, –ø–æ–∫–∞ –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è. –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π ‚Äî –≤—Å—ë –ø–∞–¥–∞–µ—Ç.

**üìå –ü–æ–≤–µ–¥–µ–Ω–∏–µ**:

- ‚úÖ –í—Å–µ –ø—Ä–æ–º–∏—Å—ã —É—Å–ø–µ—à–Ω—ã ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π.
- ‚ùå –û–¥–∏–Ω —É–ø–∞–ª ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ reject —Å —ç—Ç–æ–π –æ—à–∏–±–∫–æ–π.

**üì¶ –ü—Ä–∏–º–µ—Ä**:

```javascript
Promise.all([Promise.resolve("A"), Promise.resolve("B")]).then(console.log); // ["A", "B"]
```

```javascript
Promise.all([Promise.resolve("A"), Promise.reject("–û—à–∏–±–∫–∞")]).catch(
  console.log
); // "–û—à–∏–±–∫–∞"
```

> üìå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω—ã –¥–ª—è –æ–±—â–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

---

## üîπ Promise.allSettled

### üîπ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:

–ñ–¥—ë—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤, –¥–∞–∂–µ –µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–∞–¥–∞–µ—Ç.

**üìå –ü–æ–≤–µ–¥–µ–Ω–∏–µ**:
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤: {status: "fulfilled", value} –∏–ª–∏ {status: "rejected", reason}

**üì¶ –ü—Ä–∏–º–µ—Ä**:

```javascript
Promise.allSettled([Promise.resolve("–£—Å–ø–µ—Ö"), Promise.reject("–û—à–∏–±–∫–∞")]).then(
  console.log
);
/*
[
  { status: "fulfilled", value: "–£—Å–ø–µ—Ö" },
  { status: "rejected", reason: "–û—à–∏–±–∫–∞" }
]
*/
```

> üìå –ü–æ–ª–µ–∑–µ–Ω, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –¥–∞–∂–µ –µ—Å–ª–∏ —á–∞—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π —É–ø–∞–ª–∞

---

## üîπ Promise.race

### üîπ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–≤–æ–≥–æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞ (–Ω–µ–≤–∞–∂–Ω–æ: resolve –∏–ª–∏ reject).

**üìå –ü–æ–≤–µ–¥–µ–Ω–∏–µ**:
- ‚è± –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ–º–∏—Å –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç –≥–æ–Ω–∫—É.

**üì¶ –ü—Ä–∏–º–µ—Ä**:

```javascript
Promise.race([
  new Promise((resolve) => setTimeout(() => resolve("–ü–µ—Ä–≤—ã–π"), 1000)),
  new Promise((resolve) => setTimeout(() => resolve("–í—Ç–æ—Ä–æ–π"), 2000)),
]).then(console.log); // "–ü–µ—Ä–≤—ã–π"
```

```javascript
Promise.race([
  new Promise((_, reject) => setTimeout(() => reject("–û—à–∏–±–∫–∞"), 500)),
  new Promise((resolve) => setTimeout(() => resolve("–ü–æ–∑–¥–Ω–æ"), 1000)),
]).catch(console.log); // "–û—à–∏–±–∫–∞"
```

> üìå –ß–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è —Ç–∞–π–º–∞—É—Ç–∞: –µ—Å–ª–∏ –æ—Ç–≤–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–∏–π ‚Äî –æ—Ç–º–µ–Ω—è–µ–º

---

## üîπ Promise.any

### üîπ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:

–ñ–¥—ë—Ç –ø–µ—Ä–≤—ã–π —É—Å–ø–µ—à–Ω—ã–π –ø—Ä–æ–º–∏—Å. –û—à–∏–±–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç. –ï—Å–ª–∏ –≤—Å–µ —É–ø–∞–ª–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç AggregateError.

**üìå –ü–æ–≤–µ–¥–µ–Ω–∏–µ**:

- ‚úÖ –í–µ—Ä–Ω—ë—Ç –ø–µ—Ä–≤—ã–π resolve.

- ‚ùå –í—Å–µ reject ‚Üí catch, –Ω–æ —Å –º–∞—Å—Å–∏–≤–æ–º –æ—à–∏–±–æ–∫.

**üì¶ –ü—Ä–∏–º–µ—Ä**:

```javascript
Promise.any([
  Promise.reject("–û—à–∏–±–∫–∞ 1"),
  Promise.reject("–û—à–∏–±–∫–∞ 2"),
  Promise.resolve("–£—Å–ø–µ—à–Ω–æ!"),
]).then(console.log); // "–£—Å–ø–µ—à–Ω–æ!"
```

```javascript
Promise.any([Promise.reject("üò¢"), Promise.reject("ü•≤")]).catch((err) =>
  console.log(err.errors)
); // ["üò¢", "ü•≤"]
```

> üìå –£–¥–æ–±–µ–Ω, –µ—Å–ª–∏ —Ç–µ–±–µ —Ö–≤–∞—Ç–∏—Ç –æ–¥–Ω–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

---

## üîπ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

| –ú–µ—Ç–æ–¥              | –£—Å–ø–µ—Ö                | –û—à–∏–±–∫–∞                         |
| ------------------ | -------------------- | ------------------------------ |
| Promise.all        | –í—Å–µ —É—Å–ø–µ—à–Ω—ã          | –õ—é–±–∞—è –æ—à–∏–±–∫–∞ ‚Üí reject          |
| Promise.allSettled | –í—Å–µ–≥–¥–∞ —É—Å–ø–µ—à–µ–Ω       | –ù–µ—Ç reject, –Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π status |
| Promise.race       | –ü–µ—Ä–≤—ã–π –∑–∞–≤–µ—Ä—à–∏–≤—à–∏–π—Å—è | –û—à–∏–±–∫–∞ –∏–ª–∏ —É—Å–ø–µ—Ö ‚Äî –∫—Ç–æ –±—ã—Å—Ç—Ä–µ–µ |
| Promise.any        | –ü–µ—Ä–≤—ã–π —É—Å–ø–µ—à–Ω—ã–π      | –í—Å–µ —É–ø–∞–ª–∏ ‚Üí AggregateError     |

## ‚ö†Ô∏è –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

- Promise.all = —É–ø–∞–ª –æ–¥–∏–Ω ‚Üí —É–ø–∞–ª–∏ –≤—Å–µ.

- Promise.any –∫–∏–¥–∞–µ—Ç AggregateError, –∞ –Ω–µ –æ–±—ã—á–Ω—É—é –æ—à–∏–±–∫—É.

- Promise.race –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –æ–Ω–∞ –ø—Ä–∏—à–ª–∞ –ø–µ—Ä–≤–æ–π.

- Promise.allSettled –≤—Å–µ–≥–¥–∞ .then, –Ω–æ —Å–∞–º —Ä–µ—à–∞–π, —á—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å.
